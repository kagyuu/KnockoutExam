<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <title>knockdown.js Ex6</title>
    <style>
table{
	border-collapse: collapse;
	border-top: 1px solid gray;
	border-right: 1px solid gray;
	border-bottom: 1px solid gray;
}
th{
	padding: 6px; 
	text-align: left;
	vertical-align: top;
	color: #666666;
	background: #eee;
	border-bottom: 1px dotted #999;
	border-left: 1px solid #ccc;
}
td{
	padding: 6px;
	border-bottom: 1px dotted #999;
	border-left: 1px solid #ccc;
}
    </style>
    <script type="text/javascript" charset="UTF-8" src="js/lib/require.js" data-main="js/knockoutEx6_init.js"></script>
  </head>
  <body>
    First name: <input data-bind="value: firstName"/> <br/>
    Last name : <input data-bind="value: lastName"/> <br/>
    Id : <input data-bind="value: id"/> <br/>
    Dept : <input data-bind="value: dept"/> <br/>
    <button data-bind="click: addPerson, disable: disableAddPerson">Add</button>
	<table>
		<thead>
			<tr>
				<th></th>
				<th>ID</th>
				<th>First name</a></th>
				<th>Last name</a></th>
				<th>Dept</th>
				<th></th>
			</tr>
		</thead>
		<tbody data-bind="foreach: people">
			<!-- foreach 節の中では this は people。view-model は $parent -->
			<tr data-bind="style: {'background-color' : ( $index() % 2 === 0 ? 'azure' : 'white')}">
				<td data-bind="text: $index() + 1"></td>
				<!-- ko with : work -->
				<td data-bind="text: id"></td>
				<td data-bind="text: $parent.firstName"></td>
				<td data-bind="text: $parent.lastName"></td>
				<td data-bind="text: dept"></td>
				<!-- /ko -->
				<td><button data-bind="click: $parent.removePerson">delete</button></td>
			</tr>
		</tbody>
	</table>  
  </body>
</html>